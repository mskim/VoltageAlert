# HVPA 사용자 가이드
## 활선 접근 경보기

**버전:** 1.0.0
**날짜:** 2026년 2월
**지원:** Android 8.0 이상

---

## HVPA란 무엇인가요?

HVPA (활선 접근 경보기)는 한국 전력 회사 직원을 위해 설계된 작업장 안전 애플리케이션입니다. 고압 전선에 접근할 때 실시간 경고를 제공합니다:

- **음성 경고** - 경고음
- **진동 경고** - 진동 패턴
- **시각 경고** - 전체 화면 전압 경고
- **이벤트 로그** - 모든 전압 감지 기록

---

## 시스템 요구사항

**최소 요구사항:**

- Android 8.0 (Oreo) 이상
- 블루투스 지원
- 50 MB 이상 저장 공간

**권장 사양:**

- Android 12 이상
- 삼성, LG, 레노버 등 주요 브랜드 기기
- 블루투스 5.0+

**지원 확인 기기:**

- Samsung Galaxy A5 (2017) - Android 8
- Lenovo Tab M11 - Android 15

---

## 설치 단계

### 1단계: 알 수 없는 소스 허용

HVPA를 설치하기 전에 Play 스토어 이외의 소스에서 설치를 허용해야 합니다.

**Android 8-11:**

1. **설정** 열기
2. **보안** 또는 **잠금화면 및 보안** 탭
3. **알 수 없는 소스** 또는 **알 수 없는 앱 설치** 찾기
4. 토글 스위치 활성화
5. 메시지가 나타나면 확인

**Android 12+:**

1. **설정** 열기
2. **앱** 탭
3. **특별 액세스** 탭
4. **알 수 없는 앱 설치** 탭
5. 파일 관리자 또는 브라우저 선택
6. **이 소스 허용** 활성화

**보안 참고:** 설치 완료 후 이 설정을 비활성화할 수 있습니다.

---

### 2단계: APK 파일 다운로드

회사 IT 부서 또는 관리자로부터 HVPA APK 파일을 받으세요:

- **이메일 첨부:** `HVPA-v1.0.0.apk`
- **USB 드라이브:** 휴대폰의 다운로드 폴더로 복사
- **클라우드 저장소:** 공유 링크에서 다운로드 (Google 드라이브 등)
- **직접 전송:** 블루투스 또는 파일 공유

**파일 정보:**

- **파일명:** HVPA-v1.0.0.apk
- **크기:** 약 2.3 MB
- **버전:** 1.0.0

---

### 3단계: 애플리케이션 설치

1. **APK 파일 찾기:**
   - **내 파일** 또는 **파일** 앱 열기
   - **다운로드** 폴더로 이동
   - **HVPA-v1.0.0.apk** 찾기

2. **APK 파일을 탭**하여 설치 시작

3. **권한 검토:**
   - 앱이 권한을 요청합니다 (아래 권한 섹션 참조)
   - **설치** 탭

4. **설치 대기:**
   - 설치는 5-10초가 걸립니다
   - 프로세스를 중단하지 마세요

5. **설치 완료:**
   - **열기**를 탭하여 즉시 실행
   - 또는 홈 화면에서 앱 아이콘 찾기

**경고가 표시되면:**

- "이 유형의 파일은 기기를 손상시킬 수 있습니다"
- **확인** 또는 **무시하고 설치** 탭
- Play 스토어가 아닌 APK 파일의 정상적인 경고입니다

---

### 4단계: 권한 부여

HVPA를 처음 열면 여러 권한을 요청합니다. 앱이 제대로 작동하려면 **모든 권한이 필요**합니다.

**필수 권한:**

| 권한 | 이유 | 조치 |
|------|------|------|
| **근처 기기 / 블루투스** | 전압 센서 장치에 연결 | **허용** 탭 |
| **위치** | 블루투스 스캔에 필요 | **앱 사용 중에만 허용** 탭 |
| **알림** | 백그라운드 전압 경고 표시 | **허용** 탭 |
| **진동** | 위험한 전압에 대한 진동 경고 | 자동으로 부여됨 |
| **저장소** (Android 8-9만) | 로그 파일 저장 | 첫 저장 시 **허용** 탭 |

**중요:** 권한을 거부하면 앱이 제대로 작동하지 않을 수 있습니다. 나중에 Android 설정 > 앱 > HVPA > 권한에서 권한을 변경할 수 있습니다.

---

## HVPA 사용하기

### 메인 화면

메인 화면에 표시되는 내용:

- **연결 상태:** 센서 연결 여부 표시 (스캔 중 / 연결됨 / 연결 끊김)
- **현재 전압:** 실시간 전압 판독값
- **이벤트 로그:** 전압 감지 기록 (최대 99개 항목)
- **스캔 버튼:** 전압 센서 장치 검색
- **저장 버튼:** 이벤트 로그를 파일로 저장
- **로그 지우기 버튼:** 모든 이벤트 기록 삭제

### 센서 연결

HVPA는 **브로드캐스트 모드**를 사용하여 ESSYSTEM (Sensor) 전압 센서와 통신합니다. 별도의 페어링이나 연결이 필요하지 않습니다.

1. **ESSYSTEM 전압 센서 전원 켜기**
2. 앱이 자동으로 스캔을 시작합니다
3. 센서가 전압을 감지하면 즉시 앱에 표시됩니다
4. 연결 상태가 **"연결됨"**으로 변경됩니다

**참고:** 앱을 열면 자동으로 센서 스캔을 시작합니다. 수동으로 **스캔** 버튼을 탭할 수도 있습니다.

---

### 경고가 트리거될 때

위험한 전압이 감지되면:

1. **화면:** 전압 레벨이 있는 전체 화면 경고
2. **소리:** 2톤 사이렌 (1200Hz/800Hz 교대)
3. **진동:** 강한 진동 패턴
4. **지속 시간:** 전압이 더 이상 감지되지 않을 때까지 계속됩니다 (2초 후 자동 중지)

**경고 수동 해제:**

- 경고 화면에서 **확인** 버튼 탭
- 고압 지역에서 이동

**감지 가능 전압 레벨:**

| 전압 | 위험 수준 |
|------|-----------|
| 220V | 주의 (노란색) |
| 380V | 주의 (노란색) |
| 22.9KV | 위험 (빨간색) |
| 154KV | 위험 (빨간색) |
| 345KV | 위험 (빨간색) |
| 500KV | 위험 (빨간색) |
| 765KV | 위험 (빨간색) |

---

### 이벤트 로그 저장

기록 보관 또는 보고를 위해 이벤트 로그를 파일로 저장할 수 있습니다.

**저장 방법:**

1. 이벤트 로그 섹션에서 **로그 지우기** 버튼 옆의 **저장** 버튼을 탭합니다
2. 로그 파일이 휴대폰 내부 저장소에 저장됩니다
3. 저장된 파일 경로를 확인하는 메시지가 표시됩니다

**저장 위치:**

- **경로:** `내 파일 > HVPA > HVPA#yyyyMMdd_HHmmss.log`
- **예시:** `HVPA#20260211_175552.log`

**로그 파일 형식:**

```
1. 2026/02/11 17:54:01 220V
2. 2026/02/11 17:54:11 220V
3. 2026/02/11 17:54:24 220V
4. 2026/02/11 17:55:31 154KV
5. 2026/02/11 17:55:41 154KV
```

각 줄에는 순서 번호, 날짜/시간, 감지된 전압 레벨이 표시됩니다.

**참고 사항:**

- 앱에는 최대 99개의 로그 항목이 유지됩니다 (가장 오래된 항목은 자동으로 삭제됩니다)
- Android 8-9에서는 처음 저장할 때 **저장소 권한**을 요청합니다 - **허용**을 탭하세요
- HVPA 폴더가 없으면 자동으로 생성됩니다
- 로그 파일은 이메일, 메시지 앱 또는 USB 전송을 통해 공유할 수 있습니다

**저장된 로그 찾기:**

1. 휴대폰에서 **내 파일** 또는 **파일** 앱 열기
2. **내부 저장소** 선택
3. **HVPA** 폴더 열기
4. 날짜/시간이 포함된 `.log` 파일 확인

---

### 설정

메인 화면의 **설정 아이콘**을 통해 설정에 액세스:

**사용 가능한 설정:**

- **언어:** 한국어와 영어 전환
- **Mock 모드:** 센서 없이 테스트하기 위해 활성화 (개발자 모드)
- **볼륨:** 경고 소리 볼륨 조정
- **진동:** 진동 경고 활성화/비활성화
- **로그 저장:** 이벤트 로그를 휴대폰 저장소에 저장 (HVPA 폴더)
- **로그 지우기:** 모든 이벤트 기록 삭제

---

## 문제 해결

### 앱이 설치되지 않음

**문제:** "앱이 설치되지 않았습니다" 오류

**해결 방법:**

1. 여유 저장 공간 확인 (최소 50 MB 필요)
2. 이전 버전이 있으면 먼저 제거
3. "알 수 없는 소스"가 활성화되어 있는지 확인
4. 휴대폰을 재시작하고 다시 시도

---

### 센서가 감지되지 않음

**문제:** 센서를 찾을 수 없거나 전압이 표시되지 않음

**해결 방법:**

1. 센서의 전원이 켜져 있는지 확인
2. 휴대폰에서 블루투스가 활성화되어 있는지 확인
3. **위치 권한**이 부여되었는지 확인 (Android 설정 > 앱 > HVPA > 권한 > 위치)
4. 앱에서 **스캔** 버튼을 탭하여 수동 스캔 시작
5. 센서와 휴대폰 사이의 거리가 너무 멀지 않은지 확인
6. 앱을 종료하고 다시 시작

---

### 경고 중 소리 없음

**문제:** 경고가 표시되지만 소리가 재생되지 않음

**해결 방법:**

1. 휴대폰 볼륨 확인 (최소 50% 이상이어야 함)
2. 방해 금지 모드 비활성화
3. HVPA 설정 > 볼륨 확인
4. Mock 모드로 테스트하여 확인

---

### 로그 파일이 저장되지 않음

**문제:** 저장 버튼을 탭해도 로그 파일이 생성되지 않음

**해결 방법:**

1. **저장소 권한** 확인: Android 설정 > 앱 > HVPA > 권한 > 저장소 > 허용
2. 이벤트 로그에 항목이 있는지 확인 (빈 로그는 저장되지 않음)
3. 내부 저장소의 여유 공간 확인
4. 앱을 종료하고 다시 시작한 후 다시 시도

---

### 앱이 충돌하거나 닫힘

**문제:** 앱이 예기치 않게 닫힘

**해결 방법:**

1. 휴대폰 재시작
2. 앱 캐시 지우기: 설정 > 앱 > HVPA > 저장소 > 캐시 지우기
3. 앱 재설치
4. 문제가 지속되면 IT 지원팀에 문의

---

## 제거

HVPA를 제거하려면:

1. **설정** 열기
2. **앱** 탭
3. **HVPA** 찾아서 탭
4. **제거** 탭
5. 메시지가 나타나면 확인

**참고:** 앱을 제거하면 저장된 이벤트 로그가 삭제됩니다. 제거하기 전에 **저장** 버튼을 사용하여 로그를 HVPA 폴더에 백업하세요. HVPA 폴더의 로그 파일은 앱 제거 후에도 유지됩니다.

---

## 지원 및 문의

**기술 문제:**

- 회사 IT 부서에 문의
- 이메일: [귀하의 지원 이메일]
- 전화: [귀하의 지원 전화]

**앱 버전:** 설정 > 정보에서 버전 확인

**업데이트:** 새 버전은 회사 IT 부서에서 배포됩니다

---

## 개인정보 보호 및 보안

**데이터 수집:**

- HVPA는 전압 판독값과 타임스탬프만 수집합니다
- 모든 데이터는 기기에 로컬로 저장됩니다
- 외부 서버로 데이터가 전송되지 않습니다
- 블루투스 연결은 암호화됩니다

**권한 사용:**

| 권한 | 용도 |
|------|------|
| 블루투스 | 센서 연결만을 위해 |
| 위치 | Android의 블루투스 스캔에 필요 (추적에 사용되지 않음) |
| 알림 | 전압 경고만을 위해 |
| 저장소 | 로그 파일 저장만을 위해 |

---

## 법적 고지

**면책 조항:**
이 앱은 보조 안전 도구입니다. 표준 안전 장비, 절차 또는 교육을 대체하지 않습니다. 고압 전선 근처에서 작업할 때는 항상 회사의 안전 프로토콜을 따르고 적절한 보호 장비를 착용하십시오.

**Copyright (c) 2026 HVPA**
모든 권리 보유.

---

**문서 버전:** 1.1
**최종 업데이트:** 2026년 2월 12일
**앱 버전:** 1.0.0
**플랫폼:** Android 8.0+

최신 가이드는 IT 부서에 문의하세요.
